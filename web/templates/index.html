<!DOCTYPE html>
<html>
<head>
    <title>Audio Threat Detection Dashboard</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

    <h1>ðŸŽ§ Audio Threat Detection</h1>
    <p>Upload an audio file and get instant predictions.</p>

    <div class="upload-box">
        <input type="file" id="audioFile" accept="audio/*">
        <button onclick="uploadAudio()">Analyze Audio</button>
    </div>

    <div id="result" class="result-box"></div>

    <script>
        function uploadAudio() {
            let fileInput = document.getElementById("audioFile");
            if (fileInput.files.length === 0) {
                alert("Please select an audio file!");
                return;
            }

            let formData = new FormData();
            formData.append("file", fileInput.files[0]);

            fetch("/predict", {
                method: "POST",
                body: formData
            })
            .then(res => res.json())
            .then(data => {
                if (data.error) {
                    document.getElementById("result").innerHTML = 
                        `<p style='color:red;'>${data.error}</p>`;
                } else {
                    document.getElementById("result").innerHTML = `
                        <h2>ðŸ”Š Prediction Result</h2>
                        <p><strong>Label:</strong> ${data.prediction}</p>
                        <p><strong>Confidence:</strong> ${data.confidence}</p>
                    `;
                }
            });
        }
    </script>

</body>
</html>
